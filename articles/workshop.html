<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Workshop: Building a Bioconductor Package â€¢ BuildingBioCPackage</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Workshop: Building a Bioconductor Package">
<meta property="og:description" content="BuildingBioCPackage">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BuildingBioCPackage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/workshop.html">Workshop: Building a Bioconductor Package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SaskiaFreytag/making_bioconductor_pkg">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="workshop_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Workshop: Building a Bioconductor Package</h1>
                        <h4 class="author">Saskia Freytag &amp; Peter Hickey</h4>
            
            <h4 class="date">Last modified: November 20, 2019; Compiled: October 13, 2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/SaskiaFreytag/making_bioconductor_pkg/blob/master/vignettes/workshop.Rmd"><code>vignettes/workshop.Rmd</code></a></small>
      <div class="hidden name"><code>workshop.Rmd</code></div>

    </div>

    
    
<p><em>Disclaimer: Most of this material is shamelessly copied or adapted from the <a href="https://bioconductor.org/developers/how-to/">Bioconductor How-to-Guide</a> and <a href="http://r-pkgs.had.co.nz/">Hadley Wickhamâ€™s book on R packages</a>. Other sources are mentioned in the text.</em></p>
<div id="what-why-who-when-and-how" class="section level2">
<h2 class="hasAnchor">
<a href="#what-why-who-when-and-how" class="anchor"></a>What, why, who, when and how</h2>
<div id="what-is-a-bioconductor-package" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-a-bioconductor-package" class="anchor"></a>What is a Bioconductor package ğŸ“¦?</h3>
<p>A Bioconductor package is an R package ğŸ“¦ that provides tools ğŸ”¨ for the analysis and comprehension of high-throughput genomic data and is available on the Bioconductor repository. Like any R package ğŸ“¦ , Bioconductor package bundle together code (in functions), data, documentation and tests in order to share these with others. Broadly speaking in Bioconductor, there are packages ğŸ“¦ are of three main types:</p>
<ul>
<li>Annotation: Data-base like packages ğŸ“¦ that provide information linking identifiers to other information</li>
<li>Experiment data: Provide data sets that are used to illustrate particular analyses.</li>
<li>Software: Provide implementation of algorithms, access to resources or visualizations.</li>
<li>Workflow: Long-form vignettes that illustrate how to analyse a particular type of data, such as RNA-seq.</li>
</ul>
<p>For the purposes of this workshop, we will only consider software packages.</p>
</div>
<div id="why-make-a-bioconductor-package" class="section level3">
<h3 class="hasAnchor">
<a href="#why-make-a-bioconductor-package" class="anchor"></a>Why make a Bioconductor package ğŸ“¦?</h3>
<p>Bioconductor packages ğŸ“¦ provide a simple way to distribute R code and documentation related to analysis and comprehension of high throughput genomic data. Packages on Bioconductor ğŸ“¦ are basically guaranteed to be installable, as they are regularly built, installed, and tested on multiple systems. They are also required to be high-quality, well maintained and thoroughly documented. By creating such a package and making it available via Bioconductor, you are contributing to open science. Open science is a movement that tries to ensure that all aspects of the scientific process, which includes software, are accessible. This ensures reproducible research and increases efficiency by reducing replication of work.</p>
<p>Besides these lofty reasons for making a Bioconductor package ğŸ“¦, being the creator and maintainer of a Bioconductor package ğŸ“¦ is good for your career. It increases the reach and significance of your work, as it allows other scientists ğŸ‘¨â€ğŸ”¬ to make direct use of your research.</p>
</div>
<div id="who-should-make-bioconductor-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#who-should-make-bioconductor-packages" class="anchor"></a>Who should make Bioconductor packages ğŸ“¦?</h3>
<p>Absolutely anyone with some R programming experience can make a Bioconductor package ğŸ“¦.</p>
</div>
<div id="when-should-i-make-a-bioconductor-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#when-should-i-make-a-bioconductor-packages" class="anchor"></a>When should I make a Bioconductor packages ğŸ“¦?</h3>
<p>You are probably ready to make a Bioconductor package ğŸ“¦ when you have a set of cohesive functions that address one or multiple problems in the analyses or comprehension of high-throughput genomic data. It is important that your package ğŸ“¦ does not merely present an alternative to existing solutions, but constitutes an advance. However, do not be discouraged if your idea is already implemented. In such cases consider approaching the author of the package that has implemented your work and offer to collaborate ğŸ‘©â€ğŸ’» and help maintain their package.</p>
</div>
<div id="how-do-i-make-a-bioconductor-package" class="section level3">
<h3 class="hasAnchor">
<a href="#how-do-i-make-a-bioconductor-package" class="anchor"></a>How do I make a Bioconductor package ğŸ“¦?</h3>
<p>Well it all starts with an R package ğŸ“¦. This will be the main focus of the rest of the workshop.</p>
</div>
</div>
<div id="design-principles-for-bioconductor-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#design-principles-for-bioconductor-packages" class="anchor"></a>Design principles for Bioconductor packages ğŸ“¦</h2>
<div id="reuse" class="section level3">
<h3 class="hasAnchor">
<a href="#reuse" class="anchor"></a>Reuse</h3>
<p>There are 1,903 software packages on Bioconductor packages ğŸ“¦ currently available. Many of these packages ğŸ“¦ have implemented thoughtful data structures and built infrastructure around these. In particular, the <a href="https://bioconductor.org/about/core-team/">Bioconductor Core Team</a> have spent considerable resources designing and developing well-tested packages ğŸ“¦ that are central to the Bioconductor project. It is vital that your package makes use of these data structures and infrastructures whenever possible. For example, high-throughput genomic data is commonly stored in the <code>SummarizedExperiment</code> object class. If your package makes use of such data, you should consider interoperating with the <code>SummarizedExperiment</code> package. Here is a list of core packages that you should try to incorporate if appropriate:</p>
<ul>
<li>
<a href="https://bioconductor.org/packages/GenomicRanges"><code>GenomicRanges</code></a> when using genomic coordinates</li>
<li>
<a href="https://bioconductor.org/packages/SummarizedExperiment"><code>SummarizedExperiment</code></a> when using rectangular feature x sample data</li>
<li>
<a href="https://bioconductor.org/packages/rtracklayer"><code>rtracklayer</code></a> when importing GTF, GFF, BED, BigWig, etc</li>
<li>
<a href="https://bioconductor.org/packages/GenomicAlignments"><code>GenomicAlignments</code></a> when importing SAM/BAM files</li>
<li>
<a href="https://bioconductor.org/packages/VariantAnnotation"><code>VariantAnnotation</code></a> when importing VCF files</li>
<li>
<a href="https://bioconductor.org/packages/Rsamtools"><code>Rsamtools</code></a> when importing SAM/BAM files</li>
<li>
<a href="https://bioconductor.org/packages/Biostrings"><code>Biostrings</code></a> when using DNA/RNA/AA sequences or importing FASTA files</li>
<li>
<a href="https://bioconductor.org/packages/ShortRead"><code>ShortRead</code></a> when importing FASTQ files</li>
<li>
<a href="https://bioconductor.org/packages/MSnbase"><code>MSnbase</code></a> when using mass spec data</li>
<li>
<a href="https://bioconductor.org/packages/GSEABase"><code>GSEABase</code></a> when working with gene sets</li>
<li>
<a href="https://bioconductor.org/packages/SingleCellExperiment"><code>SingleCellExperiment</code></a> when working with single cell data</li>
</ul>
</div>
<div id="modularity" class="section level3">
<h3 class="hasAnchor">
<a href="#modularity" class="anchor"></a>Modularity</h3>
<p>Packages ğŸ“¦ in Bioconductor are meant to be modular. That means that you should try to break down your functions into smaller parts. This has multiple advantages:</p>
<ul>
<li>Shorter functions are easier to comprehend</li>
<li>Functions can be used across multiple problems</li>
<li>Users can check intermediate results and adjust analysis</li>
</ul>
<p>In particular avoid copy pasting code. Instead just write a function and apply this function.</p>
<p>Note that the concepts of modularity and reuse are sometimes referred to as interoperability.</p>
</div>
<div id="reproducible-research" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducible-research" class="anchor"></a>Reproducible research</h3>
<p>Documentation of your package ğŸ“¦, in particular example use cases provided through vignettes, are the corner stone of Bioconductor. This ensures that users know how to correctly apply your package ğŸ“¦. This is part of enabling reproducible research and use.</p>
</div>
</div>
<div id="making-a-bioconductor-package" class="section level2">
<h2 class="hasAnchor">
<a href="#making-a-bioconductor-package" class="anchor"></a>Making a Bioconductor package ğŸ“¦</h2>
<p>We will now get to the hands-on part of the workshop. For this you require RStudio, as it is a great place to get started because RStudio has already added tools ğŸ”¨ to make package ğŸ“¦ creation and dissemination easier for end users.</p>
<p>For this workshop the following packages are required:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://usethis.r-lib.org">usethis</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://roxygen2.r-lib.org/">roxygen2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mangothecat/goodpractice">goodpractice</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Bioconductor/BiocCheck/issues">BiocCheck</a></span><span class="op">)</span></pre></div>
<div id="always-start-with-version-control" class="section level3">
<h3 class="hasAnchor">
<a href="#always-start-with-version-control" class="anchor"></a>Always start with version control ğŸ±</h3>
<p>Version control is particularly important for software development. This is because you will want to keep track of every change, so in case you accidentally break something you can go back in time and fix your errors. Essentially just think of version control as the â€œTrack Changesâ€ feature in Microsoft Word on steroids.</p>
<div id="how-to-version-control" class="section level4">
<h4 class="hasAnchor">
<a href="#how-to-version-control" class="anchor"></a>How to version control ğŸ±?</h4>
<p>There are multiple ways to handle version control, we will default to Git. Git is a software that facilitates version control. It was designed particularly for coordinating work among software developers. Git-based projects are hosted on cloud-based services, such as GitHub, Bitbucket and GitLab. You can think of these as Google Drive, but much more organized. These allow you to store your projects, share your work with other people and even allow others to make changes.</p>
</div>
<div id="version-control-with-github-and-rstudio-is-easy" class="section level4">
<h4 class="hasAnchor">
<a href="#version-control-with-github-and-rstudio-is-easy" class="anchor"></a>Version control ğŸ± with GitHub and RStudio is easy</h4>
<p>Here we will work with Git Hub for the sake of specificity. In order for you to be able to work with Git Hub you will need to get the following:</p>
<ul>
<li>Get a GitHub account</li>
<li>Install git on your local machine</li>
<li>Connect your git to R Studio</li>
</ul>
<p>Lucky for this tutorial you will only need to get a GitHub account and connect it to RStudio, because we will be working on AWS where git is already installed. If you were wondering how to install git, just follow this <a href="https://happygitwithr.com/install-git.html">link</a>.</p>
<p>To connect RStudio to your git, we will be using the <code>usethis</code> package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://usethis.r-lib.org/reference/use_git_config.html">use_git_config</a></span><span class="op">(</span>user.name <span class="op">=</span> <span class="st">"Jane Doe"</span>, user.email <span class="op">=</span> <span class="st">"jane@example.org"</span><span class="op">)</span></pre></div>
<p>Simply replace â€œJane Doeâ€ with your GitHub username and enter your email instead of â€œjane@example.orgâ€. Make sure to use the one that was used when you signed up to GitHub.</p>
<p>If you are feeling a bit overwhelmed with the whole version control ğŸ± concept, donâ€™t worry. There is Jenny Bryan and Jim Hesterâ€™s excellent book â€œHappy Git with Râ€ which is available for free <a href="https://happygitwithr.com/">online</a>.</p>
</div>
</div>
<div id="lets-get-started" class="section level3">
<h3 class="hasAnchor">
<a href="#lets-get-started" class="anchor"></a>Letâ€™s get started</h3>
<p>Now we are almost ready to start. Note that in this workshop we will each write a little package ğŸ“¦ that gives praise to the user. This does obviously not constitute a Bioconductor tool, however we want you to focus on the package developing part instead of thinking of high-throughput genomic applications.</p>
<div id="set-some-layout-parameters" class="section level4">
<h4 class="hasAnchor">
<a href="#set-some-layout-parameters" class="anchor"></a>Set some layout parameters</h4>
<p>However before we initialize our package ğŸ“¦ we want to make some layout configurations to our RStudio session, so your code will be formatted <a href="http://bioconductor.org/developers/package-guidelines/#rcode">the way that Bioconductor prefers it</a>. Just think of this step as setting the layout parameters on a Word document.</p>
<ul>
<li>Set up the tab to be 4 spaces. You can find this in the â€˜Toolsâ€™ menu if you select the â€˜Global Optionsâ€¦â€™ and then look at the â€˜Codeâ€™ panel under the â€˜Editingâ€™ tab.</li>
</ul>
<p><img src="figures/tab_widths.png" width="350"></p>
<ul>
<li>Set the column width marker to 80 columns. You can find this in the â€˜Toolsâ€™ menu if you select the â€˜Global Optionsâ€¦â€™ and then look at the â€˜Codeâ€™ panel under the â€˜Displayâ€™ tab. Make sure that you click the â€˜show marginâ€™ option and that it is set to 80 columns. This will help you see if your lines are too long.</li>
</ul>
<p><img src="figures/margin.png" width="350"></p>
</div>
<div id="intialize-your-package" class="section level4">
<h4 class="hasAnchor">
<a href="#intialize-your-package" class="anchor"></a>Intialize your package ğŸ“¦</h4>
<p>To make your first package ğŸ“¦ with RStudio, go to the â€˜Fileâ€™ menu and choose â€˜New Projectâ€™. From here you probably want to choose â€˜New Directoryâ€™ and then you definitely want to choose â€˜R Packageâ€™ to set up a new R package ğŸ“¦. This will take you to the final step to get started which will just ask you what you want to call your new package ğŸ“¦ and where to put it. It is worth taking a moment to choose a name that you think you will like and to put the package ğŸ“¦ in a location where you are comfortable working. These things can be easily changed later but itâ€™s still best to get them correct right now. For the purposes of this tutorial we will create a package ğŸ“¦ called â€˜praisemeâ€™ and store it in default location. Finally, check the box at the bottom that says â€˜Create a git repositoryâ€™.</p>
<p><img src="figures/create_R_pkg.png" width="300"></p>
<p>If you look at the screen now you will see several files listed in the files tab. These are files that are needed to make a package (and which R Studio conveniently creates for you). A couple of these files are â€˜extrasâ€™ that are put there by RStudio to help it manage your package building (â€˜.Rbuildignoreâ€™, â€˜Read-and-delete-meâ€™ and â€˜praiseme.Rprojâ€™) You can just ignore these files, as<br>
they are not part of â€˜requiredâ€™ R package anatomy.</p>
</div>
<div id="describe-your-package" class="section level4">
<h4 class="hasAnchor">
<a href="#describe-your-package" class="anchor"></a>Describe your package</h4>
<p>Now we are ready to start entering some information into your package ğŸ“¦. We will start with the DESCRIPTION file. This is file has a LOT of roles in an R package. And technically it is a â€˜.dcfâ€™ file. It does its job by detailing a series of fields to tell R about what is in a package and how to use that information. The one that was auto generated for you should already look like this:</p>
<pre><code>Package: praiseme
Type: Package
Title: What the Package Does (Title Case)
Version: 0.1.0
Author: Who wrote it
Maintainer: The package maintainer &lt;yourself@somewhere.net&gt;
Description: More about what it does (maybe more than one line)
    Use four spaces when indenting paragraphs within the Description.
License: What license is it under?
Encoding: UTF-8
LazyData: true</code></pre>
<p>Which is a good start really for almost any DESCRIPTION file. You will see that for some fields they are giving you hints about what to put there and for other fields they have just filled them in already. You will need to fill in at least that many fields (and a few more) in order to make a packag ğŸ“¦e for Bioconductor. Lets start by describing what goes into the fields that are present already in our example, and then I will talk a bit about adding some of the fields that are not.</p>
<ul>
<li>Package - This string is just the official package name.</li>
<li>Type - This will basically always be â€˜Packageâ€™. If you are wondering why this field even exists the short answer is: history. The long answer is already explained in the Writing R extensions manual</li>
<li>Title - This is a slightly longer and more descriptive name for your package ğŸ“¦.</li>
<li>Version - This is not filled in correctly for a Bioconductor package ğŸ“¦ in the default example above. Bioconductor packages ğŸ“¦ need a three part version number X.Y.Z. The â€˜Xâ€™ value is the major version number (normally 0 until there has been a release) The â€˜Yâ€™ value is normally bumped automatically for you with each release such that the development branch is an odd number while the release is an even number, so these usually skip a number each release. And the â€˜Zâ€™ number is the minor release number which can be anything as long as itâ€™s bigger than the last number you usedâ€¦</li>
<li>Author - List of people (preferably with email addresses who wrote the original package ğŸ“¦)</li>
<li>Maintainer - Who should people contact if they have a problem with this package? You must have someones name and email address here. You must make sure this is up to date and accurate.</li>
<li>Description - This is where you can write a nice verbose description of what your package ğŸ“¦ is about. Think of it like the abstract for a paper.</li>
<li>License - Here you need to fill in the official license. Normally you will want to just use one of the â€˜officialâ€™ licenses. Which basically means choosing from one of the following strings for this field: â€˜GPL-2â€™, â€˜GPL-3â€™, â€˜LGPL-2â€™, â€˜LGPL-2.1â€™, â€˜LGPL-3â€™, â€˜AGPL-3â€™, â€˜Artistic-2.0â€™, â€˜BSD_2_clauseâ€™, â€˜BSD_3_clauseâ€™, â€˜MITâ€™.</li>
</ul>
<p>Also note that two more field were created Encoding and LazyData. The LazyData field is best deleted as they are not required.</p>
<p>Here are some other fields that can be in the DESCRIPTION file. We will think about these during the remainder of the workshop, but here is a brief overview:</p>
<ul>
<li>Depends - This field is for listing hard dependencies. If you have another package ğŸ“¦ and your package ğŸ“¦ is really meant to be used along with that package ğŸ“¦ then you might want to list it here. Doing so will basically always load that other package before loading yours thus guaranteeing that all the contents exported by both packages ğŸ“¦ are available to end users.</li>
<li>Imports - This is what you should use when you want to access the contents of another package from within the code of your own package. If that is your intention, then you should list those packages here. This field is normally used in conjunction with import statements inside the NAMESPACE file that will spell out which functions and objects need to be available for your package.</li>
<li>Suggests - This is for dependencies that are not needed in order to load and use your package ğŸ“¦. If you have a function somewhere that is rarely used and that needs some specific package ğŸ“¦ resource then Suggests is a good option. Suggests is normally used along with <code><a href="https://rdrr.io/r/base/library.html">require()</a></code> to ensure that the package ğŸ“¦ in question is loaded when and where it is needed.</li>
<li>BiocViews - These are unique to Bioconductor and they describe each package ğŸ“¦ using a controlled vocabulary. You can see an example of how they are used and also browse existing ones by clicking <a href="https://www.bioconductor.org/packages/devel/BiocViews.html">here</a>. While you are browsing, be sure to check the box that says â€˜Developers: check this box to toggle the visibility of childless biocViews.â€™ That way you will be able to see the full ontology. You can also make use of the <code>recommendBiocViews(pkgdir)</code> function from the <code>biocViews</code> package to suggest potential views for your package.</li>
</ul>
<p>Now that we have discussed the DESCRIPTION file lets fill ours out so that it can actually work for our test package ğŸ“¦:</p>
<pre><code>Package: praiseme
Type: Package
Title: A Package to Desseminate Praise
Version: 0.1.0
Author: Jane Doe &lt;janedoe@email.org&gt;
Maintainer: Jane Doe &lt;janedoe@email.org&gt;
Description: This package praises the user with simple functions.
License: MIT
Encoding: UTF-8</code></pre>
</div>
<div id="back-to-version-control" class="section level4">
<h4 class="hasAnchor">
<a href="#back-to-version-control" class="anchor"></a>Back to version control ğŸ±</h4>
<p>So we have made some first strides towards a package. Usually we would save our progress at this point. This is still a good idea, but we will also have to document our changes in git. To do this we will use git commit, which takes a multi-file snapshot of the entire project. Have you ever versioned a file by adding your initials or the date? That is effectively a commit, albeit only for a single file: it is a version that is significant to you and that you might want to inspect or revert to later.</p>
<p><img src="figures/commit.png" width="300"></p>
<p>To commit the changes in the git pane select all files that you want to save. Then click â€˜Commitâ€™. This will open a new window where you will be prompted to write a short message about your changes. Ideally, this conveys the motivation for the change. When you revisit a project after a break or need to digest recent changes made by a colleague, looking at the history, by reading commit messages and skimming through diffs, is an extremely efficient way to get up to speed. After writing this short message press â€˜Commitâ€™.</p>
</div>
<div id="a-little-bit-more-version-control-pain" class="section level4">
<h4 class="hasAnchor">
<a href="#a-little-bit-more-version-control-pain" class="anchor"></a>A little bit more version control ğŸ± pain</h4>
<p>Now we also want to propagate the changes we have just committed to an online GitHub repository. For this, we need to tell R about where on GitHub we would like to remotely store the package. To this end, you will first need to create a new GitHub repository.</p>
<p>So, go to <a href="https://github.com">https://github.com</a> and make sure you are logged in.</p>
<p>Click green â€œNew repositoryâ€ button. Or, if you are on your own profile page, click on â€œRepositoriesâ€, then click the green â€œNewâ€ button. This will take you to a new page, which will allow you to create a repository, i.e.Â the place where your package ğŸ“¦ will be remotely stored. Enter â€˜praisemeâ€™ in the repository name and initialize by clicking on the big green button â€œCreate repositoryâ€.</p>
<p><img src="figures/gh.png" width="500"></p>
<p>Finally, copy the URL the â€˜Quick setupâ€™ box.</p>
<p><img src="figures/quick_setup.png" width="500"></p>
<p>Now back to RStudio where you will need to connect the package ğŸ“¦ to the newly created repository. In your RStudio click on the Git pane in the right corner. There, click on the â€œtwo purple boxes and a white squareâ€. Click â€œAdd remoteâ€. Paste the URL here and set the â€˜Remote Nameâ€™ to â€œoriginâ€. Now, click â€œAddâ€.</p>
<p><img src="figures/git_pane.png" width="300"></p>
<p>We should be back in the â€œNew Branchâ€ dialog. Enter â€œmasterâ€ as the branch name and make sure â€œSync branch with remoteâ€ is checked. Click â€œCreateâ€ (yes, even though the branch already exists). In the next dialog, choose â€œoverwriteâ€.</p>
</div>
</div>
<div id="your-first-function" class="section level3">
<h3 class="hasAnchor">
<a href="#your-first-function" class="anchor"></a>Your first function</h3>
<p>Now letâ€™s add some content to your R package ğŸ“¦. We refer to functions as the content of an R package ğŸ“¦. Functions live in the <code>R/</code> folder, as R Scripts. You will see that there is already a <code>hello.R</code> R script in there. This has some information regarding package ğŸ“¦ development. It is best deleted once you have taken in the information.</p>
<div id="writing-functions" class="section level4">
<h4 class="hasAnchor">
<a href="#writing-functions" class="anchor"></a>Writing functions</h4>
<p>Now letâ€™s write our first function called <code>praiseme</code>. Before I explain what this function is meant to do, you need to open a new R Script file. For this navigate to â€˜Fileâ€™ and then choose â€˜New Fileâ€™ and then click on the option â€˜R Scriptâ€™. This will open a new script in your editor pane.</p>
<p>Before we start to write our function, letâ€™s make sure everyone understands the purpose of a function and how to write them. Functions are a fundamental building block of R. Functions allow you to automate tasks in a powerful way. All functions share the following syntax:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="va">function_name</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">arg_1</span>, <span class="va">arg_2</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>
    
    <span class="fu">evaluation</span><span class="op">(</span><span class="va">arg_1</span>, <span class="va">arg_2</span><span class="op">)</span>
    
<span class="op">}</span></pre></div>
<p>In this case <code>function_name</code> is the actual name of the function, by which it can be called. The function takes several arguments, <code>arg_1</code> and <code>arg_2</code>, which are placeholders and when the function is called will be passed values. Note that these are optional. The function body contains a collection of statements that defines what the function does. The function then returns the last expression in the function, also referred to as the return value. So letâ€™s look at a quick example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">sum_plus_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span>
    
    <span class="va">x</span> <span class="op">+</span> <span class="va">y</span> <span class="op">+</span> <span class="fl">1</span>
    
<span class="op">}</span>

<span class="fu">sum_plus_1</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></pre></div>
<pre><code>## [1] 6</code></pre>
<p>We have created a function that sums two numeric values and adds 1. When we apply the function to 1 and 4, it returns as expected 6.</p>
<p>Writing good functions requires practice, but there are some fundamental rules that can guide you:</p>
<ul>
<li>give the functiona an evocative name that makes code easier to understand</li>
<li>give your arguments evocative names that make them easier to understand</li>
<li>use consistent coding style</li>
<li>break your functions into smaller functions</li>
<li>comment your code</li>
</ul>
<p>If you want to know about Bioconductor specific code style check out this <a href="https://bioconductor.org/developers/how-to/coding-style/">link</a>. There is also <a href="https://cran.r-project.org/web/packages/styler/index.html"><code>styler</code></a> an excellent R package that restyles your code automatically. If you just want your code style to be automatically assessed you may find the R package <a href="https://cran.r-project.org/web/packages/lintr/index.html"><code>lintr</code></a> more useful</p>
<p>So now it is time for you to write a function called <code>praiseme</code>. This function takes at least one argument, but more if you please. The function then incorporates the argument when returning praise to the user. Write your function, below you can find an example for when you are stuck. Try to write the function without looking at the example function first.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="va">praiseme</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">your_name</span><span class="op">)</span> <span class="op">{</span>
    
    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">your_name</span>, <span class="st">", you are the absolute best!"</span><span class="op">)</span>
    
<span class="op">}</span></pre></div>
</div>
<div id="committing-your-changes" class="section level4">
<h4 class="hasAnchor">
<a href="#committing-your-changes" class="anchor"></a>Committing your changes ğŸ±</h4>
<p>When you are happy with your function remember to commit your changes. Add a short message regarding the changes you have made.</p>
</div>
</div>
<div id="add-documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#add-documentation" class="anchor"></a>Add documentation ğŸ–Š</h3>
<p>Documentation ğŸ–Š is one of the most important aspects of a good package ğŸ“¦. Without it, users wonâ€™t know how to use your package ğŸ“¦. Documentation ğŸ–Š is also useful for future-you (so you remember what your functions were supposed to do), and for developers extending your package ğŸ“¦. Documentation ğŸ–Š in an R package ğŸ“¦ can be accessed by <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> or <code>help()</code>. It lives in the folder <code>\man</code>, where you can find .Rd files, which contain documentation ğŸ–Š. These can be created by hand, but that is generally not advisable. Here we will learn how to create this type of documentation ğŸ–Š using <code>roxygen2</code>. This is a language that makes the creation of these files automatic and at the same time can also manage your NAMESPACE and the Collate field in your DESCRIPTION.</p>
<div id="writing-documentation" class="section level4">
<h4 class="hasAnchor">
<a href="#writing-documentation" class="anchor"></a>Writing documentation ğŸ–Š</h4>
<p>There is a super simple way to start writing documentation ğŸ–Š. Put the cursor inside the function that you want to document and then navigate to â€˜Codeâ€™ and click â€˜Insert Roxygen Skeletonâ€™. This will automatically add some lines to your <code>praiseme</code> function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="co">#' Title</span>
<span class="co">#'</span>
<span class="co">#' @param your_name </span>
<span class="co">#'</span>
<span class="co">#' @return</span>
<span class="co">#' @export</span>
<span class="co">#'</span>
<span class="co">#' @examples</span>
<span class="va">praiseme</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">your_name</span><span class="op">)</span><span class="op">{</span>

    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">your_name</span>, <span class="st">", you are the best!"</span><span class="op">)</span>
<span class="op">}</span></pre></div>
<p>You will notice that there are new lines that start with <code>#'</code>. These are the roxygen comments and they are broken up in into blocks, which are mostly tagged using <code><a href="https://rdrr.io/r/base/slotOp.html">@</a></code>. This is not true for the first couple of lines though:</p>
<ul>
<li>The first sentence becomes the title of the documentation ğŸ–Š. Thatâ€™s what you see when you look at <code>help(praiseme)</code> and is shown at the top of each help file. It should fit on one line, be written in sentence case, but not end in a full stop.</li>
<li>The second paragraph is the description: this comes first in the documentation and should briefly describe what the function does.</li>
<li>The third and subsequent paragraphs go into the details: this is a (often long) section that is shown after the argument description and should go into detail about how the function works.</li>
</ul>
<p>All objects must have a title and description. Details are optional. As well as these introduction blocks, most functions have three tags: <code>@param</code>, <code>@examples</code> and <code>@return</code>. These are automatically generated by the skeleton. They refer to the following:</p>
<ul>
<li>
<code>@param</code> name description describes the functionâ€™s inputs or parameters. The description should provide a succinct summary of the type of the parameter (e.g., string, numeric vector) and, if not obvious from the name, what the parameter does. The description should start with a capital letter and end with a full stop. It can span multiple lines (or even paragraphs) if necessary. All parameters must be documented.</li>
<li>
<code>@examples</code> provides executable R code showing how to use the function in practice. This is a very important part of the documentation because many people look at the examples first. Example code must work without errors.</li>
<li>
<code>@return</code> description describes the output from the function. This is not always necessary, but is a good idea if your function returns different types of output depending on the input, or if youâ€™re returning an S3 or S4 object.</li>
</ul>
<p>Now letâ€™s fill out the documentation ğŸ–Š for you <code>praiseme</code> function. Again try doing this on your own before looking at the example code.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co">#' Praise the user</span>
<span class="co">#'</span>
<span class="co">#' \code{praiseme} returns praise incorporating a user-specified string.</span>
<span class="co">#'</span>
<span class="co">#' @param your_name A string specifying the name of the praisee.</span>
<span class="co">#'</span>
<span class="co">#' @return A string with the praise.</span>
<span class="co">#' @export</span>
<span class="co">#'</span>
<span class="co">#' @examples</span>
<span class="co">#' praiseme("Luke")</span>
<span class="va">praiseme</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">your_name</span><span class="op">)</span><span class="op">{</span>

    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">your_name</span>, <span class="st">", you are the best!"</span><span class="op">)</span>
<span class="op">}</span></pre></div>
<p>The last thing we need to discuss is the <code>@export</code> statement in the roxygen comments. This statement makes sure that the function you have just written will be available to the user. Roxygen2 will automatically create the correct line in the NAMESPACE to indicate that this function should be exported. To understand the significance of the NAMESPACE see the section below.</p>
<p>Note that these are the absolute basics regarding documenting and NAMESPACE. For more information, we strongly advice you to check out this <a href="http://r-pkgs.had.co.nz/man.html">link</a> and this <a href="http://r-pkgs.had.co.nz/namespace.html">link</a>.</p>
</div>
<div id="remember-to-commit-your-changes" class="section level4">
<h4 class="hasAnchor">
<a href="#remember-to-commit-your-changes" class="anchor"></a>Remember to commit your changes ğŸ±</h4>
<p>When you are happy with your documentation ğŸ–Š remember to commit your changes. Add a short message regarding the changes you have made.</p>
</div>
<div id="process-your-documentation" class="section level4">
<h4 class="hasAnchor">
<a href="#process-your-documentation" class="anchor"></a>Process your documentation ğŸ–Š</h4>
<p>In order to actually generate the NAMESPACE and the manual pages, you will need to run a generation step. However, before this is possible we need to delete the current NAMESPACE file. So tick the file in your â€˜Filesâ€™ pane in the bottom left corner and then click â€˜Deleteâ€™. We will now run the generation of the NAMESPACE and the manual pages. For this navigate to your Build pane in the right corner. There expand â€˜Moreâ€™ and click on â€˜Configure Build Tools â€¦â€™. This will open a new window in which you will need to check the box â€˜Generate Documentation with Roxygenâ€™.</p>
<p><img src="figures/document.png" width="300"></p>
<p>When you now expand the â€˜Moreâ€™ button again, you will find a â€˜Documentâ€™ option. Click this option. This will generate a file in your <code>\man</code> folder. Have a quick look at it. You may recognize that this is actually written in latex.</p>
</div>
<div id="remember-to-commit-your-changes-1" class="section level4">
<h4 class="hasAnchor">
<a href="#remember-to-commit-your-changes-1" class="anchor"></a>Remember to commit your changes ğŸ±</h4>
<p>Again commit these changes.</p>
</div>
<div id="the-namespace" class="section level4">
<h4 class="hasAnchor">
<a href="#the-namespace" class="anchor"></a>The NAMESPACE</h4>
<p>The NAMESPACE file is used to control which objects are exported by a package (to end users) as well as which ones are available to it (as imported from other packages). Unlike the DESCRIPTION file the NAMESPACE file is not a â€˜.dcfâ€™ file. It is actually meant to contain R code. The good news is that the NAMESPACE package is created automatically for you when you are using <code>roxygen2</code> to document your code. Since it is an advanced topic, we will not cover it here beyond teaching you how to automatically generate it with <code>roxygen2</code>. If you are interested, follow this <a href="http://r-pkgs.had.co.nz/namespace.html">link</a>.</p>
</div>
</div>
<div id="build-install-test-your-package" class="section level3">
<h3 class="hasAnchor">
<a href="#build-install-test-your-package" class="anchor"></a>Build ğŸš§, install, test your package ğŸ“¦</h3>
<p>We are now finished with the package. In actuality, this would probably mark the beginning of your package writing and you would simply add more functions, by using the same strategy:</p>
<ul>
<li>Write function</li>
<li>Document function</li>
<li>Create documentation and NAMESPACE</li>
</ul>
<p>Finally (or intermittently) you will want to see whether your package ğŸ“¦ works. In this case, we mean whether it builds ğŸš§ and can be installed.</p>
<div id="build-and-install-your-package" class="section level4">
<h4 class="hasAnchor">
<a href="#build-and-install-your-package" class="anchor"></a>Build ğŸš§ and install your package ğŸ“¦</h4>
<p>Letâ€™s first see whether our package build. For this navigate to the â€˜Buildâ€™ pane in the right hand corner and click on â€˜Moreâ€™, where you will find â€˜Build Source Packageâ€™. This will run <code><a href="https://devtools.r-lib.org//reference/build.html">devtools::build()</a></code> on your directory and create a tar file containing all your package ğŸ“¦ contents in a platform-agnostic, transportation-friendly manner.</p>
<p>Next you will want to see if you can actually work with the package ğŸ“¦, i.e.Â can it be installed and do the functions run. For this click on the â€˜Install and Restartâ€™ button in the â€˜Buildâ€™ pane. This will restart your Rsession and install the package. You can now test and see whether your functions worked.</p>
</div>
<div id="test-your-package" class="section level4">
<h4 class="hasAnchor">
<a href="#test-your-package" class="anchor"></a>Test your package ğŸ“¦</h4>
<p>Now play around with your package ğŸ“¦. In particular, see whether your documentation works. For this use the command <code>?praiseme</code>.</p>
<p>Once your package ğŸ“¦ satisfies your first thorough tests, you can formally test it. There are several ways to test a package. The easiest way is to navigate to the â€˜Buildâ€™ pane again and there click â€˜Checkâ€™. This will run <code>R CMD check</code> on your package which will build ğŸš§ and install your package ğŸ“¦ again, as well as running all the examples.</p>
<p>If you look in our package ğŸ“¦ guidelines you will see that not only must a package ğŸ“¦ pass <code>R CMD build</code> and <code>R CMD check</code> without ERRORs or WARNINGs, but it must also pass a bunch of other requirements intended to make sure that your code is well documented and that it will integrate well into the rest of the project. You can also test your own package ğŸ“¦ for BiocCheck compliance like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Bioconductor/BiocCheck/issues">BiocCheck</a></span><span class="op">)</span>
<span class="co"># This assume your working directory is the package directory.</span>
<span class="fu"><a href="https://rdrr.io/pkg/BiocCheck/man/BiocCheck.html">BiocCheck</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span></pre></div>
<p>If you have followed the instructions up to this point, then calling the function above will produce an list object as output to tell you which things are needed for your package ğŸ“¦ to be compliant with the Bioconductor package ğŸ“¦ guidelines. The BiocCheck output is broken into three distinct categories:</p>
<ul>
<li>Requirements are things that we are confident will always be necessary. If you have failed some of these, you should aim to fix it right away.</li>
<li>Recommendations are things that are usually really important to change, but their interpretation can sometimes depend on context. If you are failing some of these you should try to fix it if at all possible.</li>
<li>Considerations are usually a good idea. But they might or might not apply in your particular case.</li>
</ul>
<p>Finally another good idea is to run the following code on your package ğŸ“¦:</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mangothecat/goodpractice">goodpractice</a></span><span class="op">)</span>
<span class="co"># This assume your working directory is the package directory.</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/goodpractice/man/gp.html">gp</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span>
<span class="va">g</span></pre></div>
<p>This utilises the <code>goodpractice</code> package ğŸ“¦ which provides opiniated advice about good practices when building R packages ğŸ“¦ tailored to your package ğŸ“¦. Advice includes functions and syntax to avoid, package structure, code complexity, code formatting, and more.</p>
</div>
</div>
<div id="also-needed-but-not-covered" class="section level3">
<h3 class="hasAnchor">
<a href="#also-needed-but-not-covered" class="anchor"></a>Also needed (but not covered)</h3>
<p>There are some further parts of a package ğŸ“¦ which are important and required for Bioconductor, but will not be discussed here. We will briefly introduce these and then refer you to links to learn more about these.</p>
<div id="vignettes" class="section level4">
<h4 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes ğŸ“–</h4>
<p>A vignette is a long-form guide to your package ğŸ“¦. Function documentation is great if you know the name of the function you need, but itâ€™s useless otherwise. A vignette is like a book chapter or an academic paper: it can describe the problem that your package ğŸ“¦ is designed to solve, and then show the reader how to solve it. A vignette should divide functions into useful categories, and demonstrate how to coordinate multiple functions to solve problems. For more on vignette please go to this <a href="https://r-pkgs.org/vignettes.html">link</a>.</p>
</div>
<div id="unit-tests" class="section level4">
<h4 class="hasAnchor">
<a href="#unit-tests" class="anchor"></a>Unit tests âœ…</h4>
<p>These are automated tests that are a bit like the tests you perform when you install the package ğŸ“¦ for the first time. However, instead of you doing these the computer takes care of them. This requires you to tell the computer how to perform these tests. This is what you do when writing unit tests, which live in the folder <code>\tests</code>. You will need the R package ğŸ“¦ <code>testthat</code> for this purpose. If you wish to know more, follow this <a href="https://r-pkgs.org/tests.html">link</a>.</p>
</div>
<div id="news" class="section level4">
<h4 class="hasAnchor">
<a href="#news" class="anchor"></a>NEWS ğŸ“°</h4>
<p>The <code>NEWS.md</code> is aimed at existing users: it should list all the API changes in each release. There are a number of formats you can use for package news, but I recommend <code>NEWS.md</code>. Itâ€™s well supported by GitHub, permitted by CRAN, and is easy to re-purpose for other formats. For more on the NEWS file, go to this <a href="http://r-pkgs.had.co.nz/release.html">link</a>.</p>
</div>
<div id="github-actions" class="section level4">
<h4 class="hasAnchor">
<a href="#github-actions" class="anchor"></a>Github actions ğŸ±</h4>
<p>Github actions automatically allow you to check your package every time you commit a change. This will allow you to catch errors quickly. However, they can be tricky to set up. Good that there is a package that will do the hard work for you, simply add Github actions with the help of the <code>biocthis</code> ğŸ“¦. Check out its function <code>use_bioc_github_action()</code> for more information.</p>
</div>
</div>
<div id="end-by-disseminating" class="section level3">
<h3 class="hasAnchor">
<a href="#end-by-disseminating" class="anchor"></a>End by disseminating</h3>
<p>Alright now you are almost ready to disseminate your first package ğŸ“¦.</p>
<div id="add-a-readme" class="section level4">
<h4 class="hasAnchor">
<a href="#add-a-readme" class="anchor"></a>Add a Readme ğŸ“„</h4>
<p>Before sharing your package ğŸ“¦ with the world you want to create a document that tells new users what the can expect from your package ğŸ“¦. This is the purpose of the <code>README.md</code> file, which will be displayed on your GitHub page. The easiest way to get started is to use <code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">usethis::use_readme_rmd()</a></code>. This creates a template <code>README.Rmd</code> and adds it to .Rbuildignore. The template looks like:</p>
<pre><code>---
output: github_document
---

&lt;!-- README.md is generated from README.Rmd. Please edit that file --&gt;

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#&gt;",
  fig.path = "README-"
)
```</code></pre>
<p>Now create your own small README file that explains the purpose of your package ğŸ“¦ and adds an example. Remember to modify the <code>README.Rmd</code>. Youâ€™ll then need to re-knit <code>README.Rmd</code>. For this simply click on the â€˜Knitâ€™ button at the top of the editor.</p>
<p>If you are not familiar with R Markdown check out this essential <a href="https://rmarkdown.rstudio.com/lesson-1.html">tutorial</a> and the Cheatsheet, which can be found in the tool bar at the top of RStudio. There click on â€˜Helpâ€™ and then â€˜Cheatsheetsâ€™, where you find â€œR Markdown Cheat Sheetâ€.</p>
<p>In case you are struggling with your <code>README.Rmd</code> here is an example:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1"></a>---</span>
<span id="cb14-2"><a href="#cb14-2"></a>output: github_document</span>
<span id="cb14-3"><a href="#cb14-3"></a>---</span>
<span id="cb14-4"><a href="#cb14-4"></a></span>
<span id="cb14-5"><a href="#cb14-5"></a>&lt;!--<span class="co"> README.md is generated from README.Rmd. Please edit that file --&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a>``{r setup, include = FALSE}</span>
<span id="cb14-8"><a href="#cb14-8"></a>knitr::opts_chunk$set(</span>
<span id="cb14-9"><a href="#cb14-9"></a>  collapse = TRUE,</span>
<span id="cb14-10"><a href="#cb14-10"></a>  comment = "#&gt;",</span>
<span id="cb14-11"><a href="#cb14-11"></a>  fig.path = "man/figures/README-",</span>
<span id="cb14-12"><a href="#cb14-12"></a>  out.width = "100%"</span>
<span id="cb14-13"><a href="#cb14-13"></a>)</span>
<span id="cb14-14"><a href="#cb14-14"></a><span class="bn">```</span></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="bn"># praiseme</span></span>
<span id="cb14-16"><a href="#cb14-16"></a></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="bn">The goal of praiseme is to deliver praise to nice people.</span></span>
<span id="cb14-18"><a href="#cb14-18"></a></span>
<span id="cb14-19"><a href="#cb14-19"></a><span class="bn">## Installation</span></span>
<span id="cb14-20"><a href="#cb14-20"></a></span>
<span id="cb14-21"><a href="#cb14-21"></a><span class="bn">You can install the released version of praiseme from </span></span>
<span id="cb14-22"><a href="#cb14-22"></a><span class="bn">[github](https://github.com/SaskiaFreytag/praiseme) with:</span></span>
<span id="cb14-23"><a href="#cb14-23"></a></span>
<span id="cb14-24"><a href="#cb14-24"></a><span class="bn">```</span> </span>
<span id="cb14-25"><a href="#cb14-25"></a>devtools::install_github("SaskiaFreytag/praiseme")</span>
<span id="cb14-26"><a href="#cb14-26"></a><span class="bn">```</span></span>
<span id="cb14-27"><a href="#cb14-27"></a></span>
<span id="cb14-28"><a href="#cb14-28"></a><span class="bn">## Example</span></span>
<span id="cb14-29"><a href="#cb14-29"></a></span>
<span id="cb14-30"><a href="#cb14-30"></a><span class="bn">This is a basic example which shows you how to praise a nice person:</span></span>
<span id="cb14-31"><a href="#cb14-31"></a></span>
<span id="cb14-32"><a href="#cb14-32"></a><span class="bn">```</span></span>
<span id="cb14-33"><a href="#cb14-33"></a>library(praiseme)</span>
<span id="cb14-34"><a href="#cb14-34"></a>praise("Saskia")</span>
<span id="cb14-35"><a href="#cb14-35"></a><span class="bn">```</span></span></code></pre></div>
</div>
<div id="committing-your-changes-1" class="section level4">
<h4 class="hasAnchor">
<a href="#committing-your-changes-1" class="anchor"></a>Committing your changes ğŸ±</h4>
<p>As always commit your changes.</p>
</div>
<div id="pushing-your-changes" class="section level4">
<h4 class="hasAnchor">
<a href="#pushing-your-changes" class="anchor"></a>Pushing your changes ğŸ±</h4>
<p>This time we will push the entire project and the history of the changes you have made to GitHub, where the package ğŸ“¦ will then be available for download by other people. For this navigate to the â€˜Gitâ€™ pane in the right hand corner. There click on the â€˜pushâ€™ button. Afterwards go to GitHub and find your praiseme repository. You should see something like this:</p>
<p><img src="figures/gh_final.png" width="300"></p>
<p>Note that other people can now simply install your package ğŸ“¦ by using <code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github("your_name/praiseme")</a></code>. If you want to try this out go ahead and install your package ğŸ“¦ from GitHub.</p>
</div>
</div>
</div>
<div id="the-bioconductor-submission-process" class="section level2">
<h2 class="hasAnchor">
<a href="#the-bioconductor-submission-process" class="anchor"></a>The Bioconductor submission process</h2>
<div id="your-submission" class="section level3">
<h3 class="hasAnchor">
<a href="#your-submission" class="anchor"></a>Your submission</h3>
<p>The Bioconductor submission process works through GitHub. So by developing our ğŸ“¦ with version control, we have already passed the first hurdle. When your package ğŸ“¦ passes the <a href="https://bioconductor.org/developers/package-submission/">basic requirements and tests</a>, you are ready to submit. Submission is actually pretty easy. Submit by opening a new issue in the <a href="https://github.com/Bioconductor/Contributions">Bioconductor Contributions repository</a>, following the guidelines of the <code>README.md</code> file.</p>
</div>
<div id="after-submission" class="section level3">
<h3 class="hasAnchor">
<a href="#after-submission" class="anchor"></a>After submission</h3>
<p>A new package ğŸ“¦ is initially labeled as â€˜1. awaiting moderationâ€™. A Bioconductor team member will take a very brief look at your package, to ensure that it is intended for Bioconductor. Appropriate packages will be re-labelled â€˜2. review in progressâ€™.</p>
<p>The package ğŸ“¦ will be submitted to the Bioconductor build system. The system will check out your package ğŸ“¦ from GitHub. It will then run <code>R CMD build</code> to create a â€˜tarballâ€™ of your source code, vignettes, and man pages. It will run <code>R CMD check</code> on the tarball, to ensure that the package ğŸ“¦ conforms to standard R programming best practices. Bioconductor has chosen to utilize a custom <a href="https://github.com/Bioconductor/Contributions#r-cmd-check-environment">R CMD check environment</a>. Finally, the build system will run <code>R CMD BiocCheck</code> to ensure that the package conforms to <a href="https://bioconductor.org/packages/devel/bioc/html/BiocCheck.html">Bioconductor BiocCheck standards</a>. The system will perform these steps using the <a href="https://bioconductor.org/developers/how-to/useDevel/">â€˜develâ€™ version of Bioconductor</a>, on three platforms (Linux, Mac OS X, and Windows). After these steps are complete, a link to a build report will be appended to the new package issue. Avoid surprises by running these checks on your own computer, under the â€˜develâ€™ version of Bioconductor, before submitting your package ğŸ“¦.</p>
<p>If the build report indicates problems, modify your package ğŸ“¦ and commit changes to the default branch of your GitHub repository. If there are problems that you do not understand, seek help on the <a href="https://stat.ethz.ch/mailman/listinfo/bioc-devel">bioc-devel mailing list</a>.</p>
<p>To trigger a new build, include a version bump in your commit, e.g., from Version: 0.99.0 to Version: 0.99.1.</p>
<p>Once your package ğŸ“¦ builds ğŸš§ and checks without errors or (avoidable) warnings, a Bioconductor team member will provide a technical review of your package. Other Bioconductor developers and users with domain expertise are encouraged to provide additional community commentary. Reviewers will add comments to the issue you created.</p>
<p>Respond to the issues raised by the reviewers. You must respond to the primary reviewer, and are strongly encouraged to consider community commentary. Typically your response will involve code modifications; commit these to the default branch of your GitHub repository to trigger subsequent builds. When you have addressed all concerns, add a comment to the issue created in step 2 to explain your response.</p>
<p>The reviewer will assess your responses, perhaps suggesting further modifications or clarification. The reviewer will then accept your package ğŸ“¦ for inclusion in Bioconductor, or decline it. The label â€˜2. review in progressâ€™ will be replaced by â€˜3a. acceptedâ€™ or â€˜3b. declinedâ€™.</p>
<p>If your package ğŸ“¦ is accepted, it will be added to Bioconductorâ€™s Git source control repository and to the nightly â€˜develâ€™ builds.</p>
</div>
<div id="release-cycle" class="section level3">
<h3 class="hasAnchor">
<a href="#release-cycle" class="anchor"></a>Release cycle</h3>
<p>There are two releases each year, around April and October. The release schedule will indicate the timetables and deadlines for each release. A release cycle typically produces two versions of packages, â€˜develâ€™ and â€˜releaseâ€™. It is important to be familiar with these branch concepts. Once your package ğŸ“¦ has been accepted, it will initially be in the â€˜develâ€™ branch. The current devel branch becomes the next release. Most users are expected to use the release branch, so they will not immediately have access to your package until the next release. Bug fixes can be fixed in both branches, while new features should only be added to the â€˜develâ€™ branch. You can check the release cycle <a href="https://bioconductor.org/developers/release-schedule/">here</a>.</p>
</div>
<div id="what-we-wish-we-would-have-known" class="section level3">
<h3 class="hasAnchor">
<a href="#what-we-wish-we-would-have-known" class="anchor"></a>What we wish we would have known?</h3>
<div id="be-mindful-of-dependencies-ï¸" class="section level4">
<h4 class="hasAnchor">
<a href="#be-mindful-of-dependencies-%EF%B8%8F" class="anchor"></a>Be mindful of dependencies âœŒï¸</h4>
<p>Any other package you make use of has to be available on either <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">CRAN</a> or <a href="https://bioconductor.org/packages/release/BiocViews.html">Bioconductor</a>. It is vital that you make use of existing and well-tested functionality from other packages ğŸ“¦, in particular other Bioconductor packages. However, be aware that with every dependency you include in your package ğŸ“¦, your package maintenance increases. Any changes in your dependencies could potentially play havoc with your package ğŸ“¦, requiring you to make cumbersome changes.</p>
</div>
<div id="be-mindful-of-your-package-size" class="section level4">
<h4 class="hasAnchor">
<a href="#be-mindful-of-your-package-size" class="anchor"></a>Be mindful of your package size ğŸ‹</h4>
<p>GitHub tracks all of your files and keeps a record, even when they are deleted. This means that once you include a file in your package, it contributes to the package size for all time, albeit in a compressed manner. Since Bioconductor software packages are limited to 5MB, you want to avoid adding large files and tracking them even in the initial stages of your package development. If you absolutely have to include such files in the initial stages of development, remember to include them in your <code>.gitignore</code> file.</p>
</div>
<div id="dont-be-afraid-of-s4-classes" class="section level4">
<h4 class="hasAnchor">
<a href="#dont-be-afraid-of-s4-classes" class="anchor"></a>Donâ€™t be afraid of S4 classes ğŸ…</h4>
<p>You may have heard that Bioconductor favours the more complicated system of S4 classes to the more widely used S3 classes, that you may be familiar with. In reality this preference for S4 classes will only impact you when you are set on implementing new representations. There are several good guides to S4 classes, if you have yo use them. Check out this <a href="http://adv-r.had.co.nz/S4.html">link</a> and this <a href="https://kasperdanielhansen.github.io/genbioconductor/html/R_S4.html">link</a>.</p>
</div>
</div>
</div>
<div id="for-when-you-are-stuck" class="section level2">
<h2 class="hasAnchor">
<a href="#for-when-you-are-stuck" class="anchor"></a>For when you are stuck ğŸ˜±</h2>
<div id="further-resources" class="section level4">
<h4 class="hasAnchor">
<a href="#further-resources" class="anchor"></a>Further resources</h4>
<p>There are many excellent tutorials, books and blogs on the topic of writing R packages here are our favourites:</p>
<ul>
<li><a href="http://r-pkgs.had.co.nz/">R packages, Hadley Wickham</a></li>
<li><a href="https://masalmon.eu/2017/12/11/goodrpackages/">How to develop a good R packages (for open science), Maelle Salmon</a></li>
<li><a href="https://devguide.ropensci.org/">rOpenSci Packages: Development, Maintenance and Peer Review, rOpenSci software review editorial team</a></li>
<li><a href="https://kbroman.org/pkg_primer/">R package primer, Karl Broman</a></li>
</ul>
<p>Specifically to creating Bioconductor packages, we suggest the following links:</p>
<ul>
<li><a href="https://combine-australia.github.io/r-pkg-dev/">R package workshop</a></li>
<li><a href="https://bioconductor.org/developers/how-to/buildingPackagesForBioc/">Building packages for Bioconductor</a></li>
<li><a href="https://bioconductor.org/developers/package-guidelines/">Package Guidelines</a></li>
<li><a href="http://bioconductor.org/developers/package-submission/">Package Submission</a></li>
<li><a href="https://bioconductor.org/help/course-materials/2017/BioC2017/DDay/Workshop/MakeAPackage.html">Make a Package</a></li>
<li><a href="https://support.rstudio.com/hc/en-us/articles/360016400354-Using-BioConductor-with-RStudio-Package-Manager">Using Bioconductor with RStudio Package Manager</a></li>
</ul>
<p>Also check out the amazing <a href="https://github.com/lcolladotor/biocthis/"><code>biocthis</code></a> package which will guide you through the development of a package when this tutorial fails.</p>
</div>
<div id="friendly-bear" class="section level4">
<h4 class="hasAnchor">
<a href="#friendly-bear" class="anchor"></a>Friendly bear ğŸ»</h4>
<p>Sometimes all you can do is step away from the problem. Take a look at a friendly bear ğŸ», take a walk ğŸŒ², drink a coffee â˜•! Then come back refreshed and take another look.</p>
<p><img src="figures/bert-the-pom.jpg" width="500"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Saskia Freytag, Peter Hickey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
